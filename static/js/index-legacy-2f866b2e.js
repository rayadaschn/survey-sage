System.register(["./react-redux-legacy-ae375a2f.js","./@ant-design/icons-legacy-3b08bf95.js","./index-legacy-95335f36.js","./ahooks-legacy-d8b4bfed.js","./react-router-dom-legacy-4de26926.js","./antd-legacy-dca60dc3.js","./recharts-legacy-da0924fe.js"],(function(e,t){"use strict";var l,s,n,i,r,a,o,c,d,u,x,h,m,p,j,g,v,f,C,b,V,y,I,P,F,k,q,E,w,T,N;return{setters:[e=>{l=e.u,s=e.a},e=>{n=e.r,i=e.av,r=e.U},e=>{a=e.l,o=e.i,c=e.o,d=e.j,u=e.n,x=e.q},e=>{h=e.F},e=>{m=e.d},e=>{p=e.S,j=e.C,g=e.T,v=e.F,f=e.I,C=e.B,b=e.j,V=e.k},e=>{y=e.R,I=e.B,P=e.C,F=e.X,k=e.Y,q=e.T,E=e.a,w=e.P,T=e.b,N=e.c}],execute:function(){e({a:function(){return l((e=>e.pageInfo))},b:function(){const{id:e=""}=m(),t=s(),{data:l,loading:i,error:r,run:d}=h((async e=>{if(!e)throw new Error("缺少问卷 id");return await c(e)}),{manual:!0});return n.useEffect((()=>{if(!l)return;const{title:e="",desc:s="",js:n="",css:i="",componentList:r=[]}=l;let c="";r.length>0&&(c=r[0].fe_id),t(a({componentList:r,selectedId:c,copiedComponent:null})),t(o({title:e,desc:s,js:n,css:i}))}),[l]),n.useEffect((()=>{d(e)}),[e]),{loading:i,error:r}},g:function(e){return se.find((t=>t.type===e))},u:function(){const e=l((e=>e.components.present)),{componentList:t=[],selectedId:s,copiedComponent:n}=e,i=t.find((e=>e.fe_id===s));return{componentList:t,selectedId:s,selectedComponent:i,copiedComponent:n}}});const t={title:"多选标题",isVertical:!1,list:[{value:"item1",text:"选项1",checked:!1},{value:"item2",text:"选项2",checked:!1},{value:"item3",text:"选项3",checked:!1}]},{Paragraph:A}=g,L={title:"多选",type:"questionCheckbox",Component:e=>{const{title:l,isVertical:s,list:n=[]}={...t,...e};return d.jsxs("div",{children:[d.jsx(A,{strong:!0,children:l}),d.jsx(p,{direction:s?"vertical":"horizontal",children:n.map((e=>{const{value:t,text:l,checked:s}=e;return d.jsx(j,{value:t,checked:s,children:l},t)}))})]})},PropComponent:e=>{const{title:t,isVertical:l,list:s=[],onChange:n,disabled:a}=e,[o]=v.useForm();return d.jsxs(v,{layout:"vertical",form:o,initialValues:{title:t,isVertical:l,list:s},disabled:a,onValuesChange:()=>{if(null==n)return;const e=o.getFieldsValue();e.list&&(e.list=e.list.filter((e=>!(null==e.text))));const{list:t=[]}=e;t.forEach((e=>{e.value||(e.value=u(5))})),n(e)},children:[d.jsx(v.Item,{label:"标题",name:"title",rules:[{required:!0,message:"请输入标题"}],children:d.jsx(f,{})}),d.jsx(v.Item,{label:"选项",children:d.jsx(v.List,{name:"list",children:(e,{add:t,remove:l})=>d.jsxs(d.Fragment,{children:[e.map((({key:e,name:t},s)=>d.jsxs(p,{align:"baseline",children:[d.jsx(v.Item,{name:[t,"checked"],valuePropName:"checked",children:d.jsx(j,{})}),d.jsx(v.Item,{name:[t,"text"],rules:[{required:!0,message:"请输入选项文字"},{validator:(e,t)=>{const{list:l=[]}=o.getFieldsValue();let s=0;return l.forEach((e=>{e.text===t&&s++})),1===s?Promise.resolve():Promise.reject(new Error("和其他选项重复了"))}}],children:d.jsx(f,{placeholder:"输入选项文字..."})}),s>0&&d.jsx(i,{onClick:()=>l(t)})]},e))),d.jsx(v.Item,{children:d.jsx(C,{type:"link",onClick:()=>t({text:"",value:"",checked:!1}),icon:d.jsx(r,{}),block:!0,children:"添加选项"})})]})})}),d.jsx(v.Item,{name:"isVertical",valuePropName:"checked",children:d.jsx(j,{children:"竖向排列"})})]})},StatComponent:({stat:e})=>d.jsx("div",{style:{width:"300px",height:"300px"},children:d.jsx(y,{width:"100%",height:"100%",children:d.jsxs(I,{width:400,height:300,data:e,margin:{top:5,right:30,left:0,bottom:5},children:[d.jsx(P,{strokeDasharray:"3 3"}),d.jsx(F,{dataKey:"name"}),d.jsx(k,{}),d.jsx(q,{}),d.jsx(E,{dataKey:"count",fill:"#8884d8"})]})})}),defaultProps:t},S={title:"问卷标题",desc:"问卷描述"},{Title:z,Paragraph:B}=g,{TextArea:G}=f,K={title:"问卷信息",type:"questionInfo",Component:e=>{const{title:t,desc:l=""}={...S,...e},s=l.split("\n");return d.jsxs("div",{style:{textAlign:"center"},children:[d.jsx(z,{style:{fontSize:"24px"},children:t}),d.jsx(B,{children:s.map(((e,t)=>d.jsxs("span",{children:[t>0&&d.jsx("br",{}),e]},t)))})]})},PropComponent:e=>{const{title:t,desc:l,onChange:s,disabled:i}=e,[r]=v.useForm();return n.useEffect((()=>{r.setFieldsValue({title:t,desc:l})}),[t,l]),d.jsxs(v,{layout:"vertical",initialValues:{title:t,desc:l},onValuesChange:function(){s&&s(r.getFieldsValue())},disabled:i,form:r,children:[d.jsx(v.Item,{label:"标题",name:"title",rules:[{required:!0,message:"请输入问卷标题"}],children:d.jsx(f,{})}),d.jsx(v.Item,{label:"描述",name:"desc",children:d.jsx(G,{})})]})},defaultProps:S},R={title:"输入框标题",placeholder:"请输入..."},{Paragraph:$}=g,_={title:"输入框",type:"questionInput",Component:e=>{const{title:t,placeholder:l}={...R,...e};return d.jsxs("div",{children:[d.jsx($,{strong:!0,children:t}),d.jsx("div",{children:d.jsx(f,{placeholder:l})})]})},PropComponent:e=>{const{title:t,placeholder:l,onChange:s,disabled:i}=e,[r]=v.useForm();return n.useEffect((()=>{r.setFieldsValue({title:t,placeholder:l})}),[t,l]),d.jsxs(v,{layout:"vertical",initialValues:{title:t,placeholder:l},form:r,onValuesChange:function(){s&&s(r.getFieldsValue())},disabled:i,children:[d.jsx(v.Item,{label:"标题",name:"title",rules:[{required:!0,message:"请输入标题"}],children:d.jsx(f,{})}),d.jsx(v.Item,{label:"Placeholder",name:"placeholder",children:d.jsx(f,{})})]})},defaultProps:R},D={text:"一行段落",isCenter:!1},{Paragraph:M}=g,{TextArea:U}=f,X={title:"段落",type:"questionParagraph",Component:e=>{const{text:t="",isCenter:l=!1}={...D,...e},s=t.split("\n");return d.jsx(M,{style:{textAlign:l?"center":"start",marginBottom:"0"},children:s.map(((e,t)=>d.jsxs("span",{children:[t>0&&d.jsx("br",{}),e]},t)))})},PropComponent:e=>{const{text:t,isCenter:l,onChange:s,disabled:i}=e,[r]=v.useForm();return n.useEffect((()=>{r.setFieldsValue({text:t,isCenter:l})}),[t,l]),d.jsxs(v,{layout:"vertical",initialValues:{text:t,isCenter:l},onValuesChange:function(){s&&s(r.getFieldsValue())},disabled:i,form:r,children:[d.jsx(v.Item,{label:"段落内容",name:"text",rules:[{required:!0,message:"请输入段落内容"}],children:d.jsx(U,{})}),d.jsx(v.Item,{name:"isCenter",valuePropName:"checked",children:d.jsx(j,{children:"居中显示"})})]})},defaultProps:D},Y={title:"单选标题",isVertical:!1,options:[{value:"item1",text:"选项1"},{value:"item2",text:"选项2"},{value:"item3",text:"选项3"}],value:""},{Paragraph:H}=g,J={title:"单选",type:"questionRadio",Component:e=>{const{title:t,options:l=[],value:s,isVertical:n}={...Y,...e};return d.jsxs("div",{children:[d.jsx(H,{strong:!0,children:t}),d.jsx(b.Group,{value:s,children:d.jsx(p,{direction:n?"vertical":"horizontal",children:l.map((e=>{const{value:t,text:l}=e;return d.jsx(b,{value:t,children:l},t)}))})})]})},PropComponent:e=>{const{title:t,isVertical:l,value:s,options:a=[],onChange:o,disabled:c}=e,[x]=v.useForm();return n.useEffect((()=>{x.setFieldsValue({title:t,isVertical:l,value:s,options:a})}),[t,l,s,a]),d.jsxs(v,{layout:"vertical",initialValues:{title:t,isVertical:l,value:s,options:a},onValuesChange:function(){if(null==o)return;const e=x.getFieldsValue();e.options&&(e.options=e.options.filter((e=>!(null==e.text))));const{options:t=[]}=e;t.forEach((e=>{e.value||(e.value=u(5))})),o(e)},disabled:c,form:x,children:[d.jsx(v.Item,{label:"标题",name:"title",rules:[{required:!0,message:"请输入标题"}],children:d.jsx(f,{})}),d.jsx(v.Item,{label:"选项",children:d.jsx(v.List,{name:"options",children:(e,{add:t,remove:l})=>d.jsxs(d.Fragment,{children:[e.map((({key:e,name:t},s)=>d.jsxs(p,{align:"baseline",children:[d.jsx(v.Item,{name:[t,"text"],rules:[{required:!0,message:"请输入选项文字"},{validator:(e,t)=>{const{options:l=[]}=x.getFieldsValue();let s=0;return l.forEach((e=>{e.text===t&&s++})),1===s?Promise.resolve():Promise.reject(new Error("和其他选项重复了"))}}],children:d.jsx(f,{placeholder:"输入选项文字..."})}),s>1&&d.jsx(i,{onClick:()=>l(t)})]},e))),d.jsx(v.Item,{children:d.jsx(C,{type:"link",onClick:()=>t({text:"",value:""}),icon:d.jsx(r,{}),block:!0,children:"添加选项"})})]})})}),d.jsx(v.Item,{label:"默认选中",name:"value",children:d.jsx(V,{value:s,options:a.map((({text:e,value:t})=>({value:t,label:e||""})))})}),d.jsx(v.Item,{name:"isVertical",valuePropName:"checked",children:d.jsx(j,{children:"竖向排列"})})]})},defaultProps:Y,StatComponent:({stat:e=[]})=>{const t=n.useMemo((()=>{let t=0;return e.forEach((e=>t+=e.count)),t}),[e]);return d.jsx("div",{style:{width:"300px",height:"400px"},children:d.jsx(y,{width:"100%",height:"100%",children:d.jsxs(w,{children:[d.jsx(T,{dataKey:"count",data:e,cx:"40%",cy:"40%",outerRadius:50,fill:"#8884d8",label:e=>{return`${e.name}: ${l=e.count/t,(100*l).toFixed(2)}%`;var l},children:e.map(((e,t)=>d.jsx(N,{fill:x[t]},t)))}),d.jsx(q,{})]})})})}},O={title:"输入框标题",placeholder:"请输入..."},{Paragraph:Q}=g,{TextArea:W}=f,Z={title:"多行输入",type:"questionTextarea",Component:e=>{const{title:t,placeholder:l}={...O,...e};return d.jsxs("div",{children:[d.jsx(Q,{strong:!0,children:t}),d.jsx("div",{children:d.jsx(W,{placeholder:l})})]})},PropComponent:e=>{const{title:t,placeholder:l,onChange:s,disabled:i}=e,[r]=v.useForm();return n.useEffect((()=>{r.setFieldsValue({title:t,placeholder:l})}),[t,l]),d.jsxs(v,{layout:"vertical",initialValues:{title:t,placeholder:l},form:r,onValuesChange:function(){s&&s(r.getFieldsValue())},disabled:i,children:[d.jsx(v.Item,{label:"标题",name:"title",rules:[{required:!0,message:"请输入标题"}],children:d.jsx(f,{})}),d.jsx(v.Item,{label:"Placeholder",name:"placeholder",children:d.jsx(f,{})})]})},defaultProps:O},ee={text:"一级标题",level:1,isCenter:!1},{Title:te}=g,le={title:"标题",type:"questionTitle",Component:e=>{const{text:t="",level:l=1,isCenter:s=!1}={...ee,...e};return d.jsx(te,{level:l,style:{textAlign:s?"center":"start",marginBottom:"0",fontSize:(n=l,1===n?"24px":2===n?"20px":"16px")},children:t});var n},PropComponent:e=>{const{text:t,level:l,isCenter:s,onChange:i,disabled:r}=e,[a]=v.useForm();return n.useEffect((()=>{a.setFieldsValue({text:t,level:l,isCenter:s})}),[t,l,s]),d.jsxs(v,{form:a,layout:"vertical",onValuesChange:function(){i&&i(a.getFieldsValue())},initialValues:{text:t,level:l,isCenter:s},disabled:r,children:[d.jsx(v.Item,{label:"标题内容",name:"text",rules:[{required:!0,message:"请输入标题内容"}],children:d.jsx(f,{})}),d.jsx(v.Item,{label:"层级",name:"level",children:d.jsx(V,{options:[{value:1,text:1},{value:2,text:2},{value:3,text:3}]})}),d.jsx(v.Item,{name:"isCenter",valuePropName:"checked",children:d.jsx(j,{children:"居中显示"})})]})},defaultProps:ee},se=(e("c",[{groupId:"textGroup",groupName:"文本显示",components:[K,X,le]},{groupId:"inputGroup",groupName:"用户输入",components:[_,Z]},{groupId:"chooseGroup",groupName:"用户选择",components:[L,J]}]),[L,K,_,X,J,Z,le])}}}));
